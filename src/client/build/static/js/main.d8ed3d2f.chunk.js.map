{"version":3,"sources":["utils/actions.js","utils/constants.js","utils/socket.js","utils/request.js","actions/auth.js","actions/history.js","components/common/body/index.js","components/login/login-form.js","components/login/index.js","utils/index.js","components/home/user-tip.js","components/home/user-avatar.js","components/home/active-users.js","components/home/popover-content.js","components/home/index.js","components/history/history-item.js","components/history/index.js","utils/store.js","components/registration/registration-form.js","components/registration/index.js","components/error/index.js","hocs/with-auth.js","hocs/with-store.js","containers/Login.js","containers/Home.js","actions/home.js","containers/History.js","containers/Registration.js","containers/Error.js","store/auth.js","store/users.js","App.js","store/index.js","index.js"],"names":["LOGIN_PENDING","LOGIN_SUCCESS","SIGN_UP_PENDING","SIGN_UP_SUCCESS","SIGN_UP_FAILURE","env","process","console","log","REGISTRATION_ERROR","Socket","socket","getSocket","create","openSocket","disconnect","defaultHeaders","iAxios","axios","baseURL","headers","interceptors","request","use","config","error","info","Date","Promise","reject","response","myFetch","url","options","withCredentials","login","username","password","a","store","dispatch","type","ACTIONS","method","data","status","payload","signUp","isAdmin","get","logout","setTimeout","getUserHistory","useStyles","makeStyles","container","height","margin","textAlign","title","flexGrow","Body","props","classes","history","useHistory","useState","anchorEl","setAnchorEl","open","Boolean","AppBar","position","Toolbar","Typography","variant","className","isLoggedIn","IconButton","aria-label","aria-controls","aria-haspopup","onClick","event","currentTarget","color","admin","Badge","overlap","anchorOrigin","vertical","horizontal","badgeContent","style","green","fontSize","Menu","id","keepMounted","transformOrigin","onClose","MenuItem","push","children","defaultProps","loginForm","display","flexDirection","alignItems","justifyContent","field","width","LoginForm","isSubmitting","onSubmit","setUsername","setPassword","e","preventDefault","target","elements","TextField","label","required","value","onChange","CircularProgress","Button","disabled","to","loginCtr","maxWidth","Login","loggingIn","loginFailure","signingUp","signUpSuccess","loggingOut","logoutSuccess","showError","registerSuccess","logoutSuccessAlert","Alert","severity","Paper","elevation","formatLastVisitTS","date","moment","format","UserTip","lastVisited","capitalize","UserAvatar","initial","avatar","Avatar","alt","toUpper","useColors","map","deepOrange","deepPurple","pink","brown","amber","c","backgroundColor","listCtr","listStyleType","padding","avatarCtr","marginRight","lastAvatar","grey","border","React","memo","users","hiddenCount","handleMore","colors","user","i","key","Tooltip","disableTouchListener","arrow","allColors","times","blue","lime","orange","red","yellow","indigo","cyan","PopoverItem","ListItem","ListItemAvatar","ListItemText","primary","secondary","PopoverContent","List","flex","main","footer","modalWindow","modalCtr","overflow","maxHeight","Home","activeUsers","loggedInUser","showDialog","setDialog","shownUsers","slice","hiddenUsers","length","max","Modal","HistoryItem","createdOn","reducerMap","marginTop","noData","History","registerForm","RegistrationForm","Username","setAdmin","FormControlLabel","control","Switch","size","checked","signUpCtr","Registration","signUpFailure","Error","message","href","withAuth","SecureComponent","isLoading","setLoading","redirect","setRedirect","useEffect","res","checkAuth","withStore","stateMapper","ContainerComponent","state","useContext","StoreContext","pageState","loading","loginSuccess","HomeWithAuth","on","getActiveUsers","Object","values","HistoryWithAuth","userHistory","ErrorContainer","initalState","dummyUsers","dummy1","dummy2","dummy3","dummy4","dummy5","initalHistoryState","reducer","listeners","action","forEach","listener","getState","subscribe","filter","l","createStore","keys","reduce","nextState","createContext","App","Provider","path","exact","render","component","ReactDOM","document","getElementById"],"mappings":"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","file":"static/js/main.d8ed3d2f.chunk.js","sourcesContent":["export const LOGIN_PENDING = \"app/auth/LOGIN_STARTED\";\r\nexport const LOGIN_SUCCESS = \"app/auth/LOGIN_SUCCESS\";\r\nexport const LOGIN_FAILURE = \"app/auth/LOGIN_FAILURE\";\r\nexport const LOGIN_RESET = \"app/auth/LOGIN_RESET\";\r\n\r\nexport const LOGOUT_PENDING = \"app/auth/LOGOUT_PENDING\";\r\nexport const LOGOUT_SUCCESS = \"app/auth/LOGOUT_SUCCESS\";\r\nexport const LOGOUT_FAILURE = \"app/auth/LOGOUT_FAILURE\";\r\nexport const LOGOUT_RESET = \"app/auth/LOGOUT_RESET\";\r\n\r\nexport const SIGN_UP_PENDING = \"app/auth/SIGN_UP_PENDING\";\r\nexport const SIGN_UP_SUCCESS = \"app/auth/SIGN_UP_SUCCESS\";\r\nexport const SIGN_UP_FAILURE = \"app/auth/SIGN_UP_FAILURE\";\r\nexport const SIGN_UP_RESET = \"app/auth/SIGN_UP_RESET\";\r\n\r\nexport const FETCH_ACTIVE_USERS_PENDING = \"app/auth/FETCH_ACTIVE_USERS_PENDING\";\r\nexport const FETCH_ACTIVE_USERS_SUCCESS = \"app/auth/FETCH_ACTIVE_USERS_SUCCESS\";\r\nexport const FETCH_ACTIVE_USERS_FAILURE = \"app/auth/FETCH_ACTIVE_USERS_FAILURE\";\r\n\r\nexport const FETCH_USER_HISTORY_PENDING = \"app/auth/FETCH_USER_HISTORY_PENDING\";\r\nexport const FETCH_USER_HISTORY_SUCCESS = \"app/auth/FETCH_USER_HISTORY_SUCCESS\";\r\n// export const FETCH_USER_HISTORY_FAILURE = \"app/auth/FETCH_USER_HISTORY_FAILURE\";\r\n","const env = process.env.NODE_ENV;\r\nconsole.log(\"ENV: \", env);\r\n\r\nexport const BASE_URL = env === \"production\" ? \"\" : \"http://localhost:8989\";\r\n\r\nexport const REGISTRATION_ERROR = \"Unable to register :( Please contact system admin if issue persists.\";\r\nexport const NO_MATCH_MSG = \"Looking for the App? Login below to get started\";\r\n","import openSocket from 'socket.io-client';\r\nimport { BASE_URL } from \"./constants\";\r\n\r\nconst Socket = (() => {\r\n  let socket;\r\n\r\n  const getSocket = () => socket;\r\n\r\n  const create = () => {\r\n    socket = openSocket(BASE_URL);\r\n    return socket;\r\n  };\r\n\r\n  const disconnect = () => {\r\n    return socket.disconnect();\r\n  };\r\n\r\n  return { getSocket, create, disconnect };\r\n})();\r\n\r\nexport default Socket;\r\n\r\n","import axios from \"axios\";\r\nimport { BASE_URL } from \"./constants\";\r\n\r\nconst defaultHeaders = {\r\n  \"Accept\": \"application/json\",\r\n  \"Content-Type\": \"application/json\"\r\n};\r\nconst iAxios = axios.create({\r\n  baseURL: BASE_URL,\r\n  headers: defaultHeaders\r\n});\r\n\r\niAxios.interceptors.request.use((config) => {\r\n  // console.info(`Request::\\n${new Date()} :: `, config);\r\n  return config;\r\n}, function (error) {\r\n  console.info(`Request ERROR::\\n${new Date()} :: `, error);\r\n  return Promise.reject(error);\r\n});\r\n\r\niAxios.interceptors.response.use(function (response) {\r\n  // console.info(`Response::\\n${new Date()} :: `, response);\r\n  return response;\r\n}, function (error) {\r\n  console.info(`Response ERROR::\\n${new Date()} :: `, error);\r\n  return Promise.reject(error);\r\n});\r\n\r\nconst myFetch = (url, options) => {\r\n  return iAxios({\r\n    url,\r\n    ...options,\r\n    withCredentials: true,\r\n    headers: { ...defaultHeaders }\r\n  });\r\n};\r\n\r\nexport default myFetch;\r\n","import get from \"lodash/get\";\r\nimport * as ACTIONS from \"../utils/actions\";\r\nimport { store } from \"../App\";\r\nimport { REGISTRATION_ERROR } from \"../utils/constants\"\r\nimport Socket from \"../utils/socket\";\r\nimport myFetch from \"../utils/request\";\r\n\r\nexport const login = async (username, password) => {\r\n  try {\r\n    store.dispatch({ type: ACTIONS.LOGIN_PENDING });\r\n    const { data } = await myFetch(\"/session/login\", {\r\n      method: \"POST\",\r\n      data: { username, password }\r\n    });\r\n    if (data.status === \"OK\") {\r\n      Socket.create();\r\n      store.dispatch({ type: ACTIONS.LOGIN_SUCCESS, payload: data.data });\r\n    } else {\r\n      throw data;\r\n    }\r\n  } catch (err) {\r\n    store.dispatch({ type: ACTIONS.LOGIN_FAILURE, payload: err });\r\n  }\r\n};\r\n\r\nexport const signUp = async (username, password, isAdmin = false) => {\r\n  try {\r\n    store.dispatch({ type: ACTIONS.SIGN_UP_PENDING });\r\n    const { data } = await myFetch(\"/users/register-user\", {\r\n      method: \"PUT\",\r\n      data: { username, password, isAdmin }\r\n    });\r\n    if (data.status === \"OK\") {\r\n      store.dispatch({ type: ACTIONS.SIGN_UP_SUCCESS, payload: true });\r\n    } else {\r\n      throw data;\r\n    }\r\n  } catch (err) {\r\n    store.dispatch({\r\n      type: ACTIONS.SIGN_UP_FAILURE,\r\n      payload: get(err, \"response.data.message\", REGISTRATION_ERROR)\r\n    });\r\n  }\r\n};\r\n\r\nexport const logout = async () => {\r\n  try {\r\n    store.dispatch({ type: ACTIONS.LOGIN_RESET });\r\n    store.dispatch({ type: ACTIONS.LOGOUT_PENDING });\r\n    const { data } = await myFetch(\"/session/logout\", { method: \"GET\" });\r\n    if (data.status === \"OK\") {\r\n      Socket.disconnect();\r\n      store.dispatch({ type: ACTIONS.LOGOUT_SUCCESS, payload: true });\r\n      setTimeout(() => {\r\n        store.dispatch({ type: ACTIONS.LOGOUT_RESET });\r\n      }, 3000);\r\n    } else {\r\n      throw data;\r\n    }\r\n  } catch (err) {\r\n    store.dispatch({ type: ACTIONS.LOGOUT_FAILURE });\r\n  }\r\n};\r\n","import * as ACTIONS from \"../utils/actions\";\r\nimport { store } from \"../App\";\r\nimport myFetch from \"../utils/request\";\r\n\r\nexport const getUserHistory = async () => {\r\n  try {\r\n    store.dispatch({ type: ACTIONS.FETCH_USER_HISTORY_PENDING });\r\n    const { data } = await myFetch(\"/users/history\", { method: \"GET\" });\r\n    if (data.status === \"OK\") {\r\n      store.dispatch({ type: ACTIONS.FETCH_USER_HISTORY_SUCCESS, payload: data.data });\r\n    } else {\r\n      throw data;\r\n    }\r\n  } catch (err) {\r\n    store.dispatch({\r\n      type: ACTIONS.FETCH_USER_HISTORY_SUCCESS,\r\n      payload: []\r\n    });\r\n  }\r\n};","import React, { useState } from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport AppBar from '@material-ui/core/AppBar';\r\nimport Toolbar from '@material-ui/core/Toolbar';\r\nimport Typography from '@material-ui/core/Typography';\r\nimport IconButton from '@material-ui/core/IconButton';\r\nimport AccountCircle from '@material-ui/icons/AccountCircle';\r\nimport StarIcon from '@material-ui/icons/Star';\r\nimport MenuItem from '@material-ui/core/MenuItem';\r\nimport { green } from '@material-ui/core/colors';\r\nimport Menu from '@material-ui/core/Menu';\r\nimport { useHistory } from 'react-router-dom';\r\n\r\nimport { logout } from '../../../actions';\r\nimport { Badge } from '@material-ui/core';\r\n\r\nconst useStyles = makeStyles(() => ({\r\n  container: {\r\n    height: \"100vh\",\r\n    margin: \"auto 1em\",\r\n    textAlign: \"center\",\r\n  },\r\n  title: {\r\n    flexGrow: 1,\r\n  },\r\n}));\r\n\r\nconst Body = (props) => {\r\n  const classes = useStyles();\r\n  const history = useHistory();\r\n  const [anchorEl, setAnchorEl] = useState(null);\r\n  const open = Boolean(anchorEl);\r\n\r\n  const handleMenu = (event) => setAnchorEl(event.currentTarget);\r\n  const handleClose = () => setAnchorEl(null);\r\n  const handleLogout = () => {\r\n    history.push(\"/app\");\r\n    logout();\r\n  };\r\n\r\n  const handleHistory = () => {\r\n    history.push(\"/app/history\");\r\n  };\r\n\r\n  return (\r\n    <>\r\n      <AppBar position=\"static\">\r\n        <Toolbar>\r\n          <Typography variant=\"h6\" className={classes.title}>\r\n            User Presence\r\n          </Typography>\r\n          {props.isLoggedIn && (\r\n            <div>\r\n              <IconButton\r\n                aria-label=\"account of current user\"\r\n                aria-controls=\"menu-appbar\"\r\n                aria-haspopup=\"true\"\r\n                onClick={handleMenu}\r\n                color=\"inherit\"\r\n              >\r\n                {props.admin ? (\r\n                  <Badge\r\n                    overlap=\"circle\"\r\n                    anchorOrigin={{\r\n                      vertical: 'top',\r\n                      horizontal: 'left',\r\n                    }}\r\n                    badgeContent={<StarIcon style={{ color: green[500] }} />}>\r\n                    <AccountCircle fontSize=\"large\" />\r\n                  </Badge>\r\n                ) : <AccountCircle fontSize=\"large\" />}\r\n              </IconButton>\r\n              <Menu\r\n                id=\"menu-appbar\"\r\n                anchorEl={anchorEl}\r\n                anchorOrigin={{\r\n                  vertical: 'top',\r\n                  horizontal: 'right',\r\n                }}\r\n                keepMounted\r\n                transformOrigin={{\r\n                  vertical: 'top',\r\n                  horizontal: 'right',\r\n                }}\r\n                open={open}\r\n                onClose={handleClose}\r\n              >\r\n                {props.admin && <MenuItem onClick={handleHistory}>User History</MenuItem>}\r\n                <MenuItem onClick={handleLogout}>Logout</MenuItem>\r\n              </Menu>\r\n            </div>\r\n          )}\r\n        </Toolbar>\r\n      </AppBar>\r\n      <main className={classes.container}>\r\n        {props.children}\r\n      </main>\r\n    </>\r\n  );\r\n}\r\n\r\nBody.defaultProps = {\r\n  isLoggedIn: false,\r\n  admin: false\r\n};\r\n\r\nBody.propTypes = {\r\n  isLoggedIn: PropTypes.bool,\r\n  admin: PropTypes.bool,\r\n  children: PropTypes.oneOfType([PropTypes.node, PropTypes.string]).isRequired\r\n};\r\n\r\nexport default Body;","import React, { useState } from 'react';\r\nimport PropTypes from \"prop-types\";\r\nimport { Link } from \"react-router-dom\";\r\nimport { makeStyles, TextField, Typography, Button, CircularProgress } from '@material-ui/core';\r\n\r\nconst useStyles = makeStyles(() => ({\r\n  loginForm: {\r\n    display: \"flex\",\r\n    flexDirection: \"column\",\r\n    alignItems: 'center',\r\n    justifyContent: \"space-around\",\r\n    height: \"26em\"\r\n  },\r\n  field: {\r\n    width: \"75%\"\r\n  }\r\n}));\r\n\r\nconst LoginForm = ({ isSubmitting, onSubmit }) => {\r\n  const classes = useStyles();\r\n  const [username, setUsername] = useState(\"\");\r\n  const [password, setPassword] = useState(\"\");\r\n  const handleSubmit = (e) => {\r\n    e.preventDefault();\r\n    onSubmit(e.target.elements);\r\n  };\r\n\r\n  return (\r\n    <form onSubmit={handleSubmit} className={classes.loginForm}>\r\n      <header>\r\n        <Typography variant=\"h5\">\r\n          Welcome!\r\n        </Typography>\r\n        <Typography variant=\"subtitle1\">\r\n          Please login to see more\r\n        </Typography>\r\n      </header>\r\n      <TextField\r\n        id=\"username\"\r\n        label=\"Username\"\r\n        variant=\"outlined\"\r\n        className={classes.field}\r\n        required\r\n        value={username}\r\n        onChange={({ target }) => setUsername(target.value)} />\r\n      <TextField\r\n        id=\"password\"\r\n        label=\"Password\"\r\n        type=\"password\"\r\n        variant=\"outlined\"\r\n        className={classes.field}\r\n        required\r\n        value={password}\r\n        onChange={({ target }) => setPassword(target.value)} />\r\n      {isSubmitting ? <CircularProgress /> : <Button\r\n        variant=\"contained\"\r\n        type=\"submit\"\r\n        disabled={isSubmitting}\r\n        color=\"primary\">\r\n        Login\r\n      </Button>}\r\n      <footer>\r\n        <Typography variant=\"subtitle2\">\r\n          Not registered yet? <Link to=\"/app/register\">Sign up</Link>\r\n        </Typography>\r\n      </footer>\r\n    </form>\r\n  );\r\n};\r\n\r\nLoginForm.propTypes = {\r\n  isSubmitting: PropTypes.bool,\r\n  onSubmit: PropTypes.func.isRequired\r\n};\r\n\r\nexport default LoginForm;","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport { Paper, makeStyles } from '@material-ui/core';\r\nimport Alert from '@material-ui/lab/Alert';\r\n\r\nimport { Body } from \"../common\";\r\nimport LoginForm from './login-form';\r\nimport { login } from '../../actions';\r\n\r\nconst useStyles = makeStyles(() => ({\r\n  loginCtr: {\r\n    margin: \"8em auto\",\r\n    maxWidth: \"32em\"\r\n  }\r\n}));\r\n\r\nconst Login = ({\r\n  loggingIn,\r\n  loginFailure,\r\n  signingUp,\r\n  signUpSuccess,\r\n  loggingOut,\r\n  logoutSuccess\r\n}) => {\r\n  const classes = useStyles();\r\n  const showError = !loggingIn && loginFailure;\r\n  const registerSuccess = !signingUp && signUpSuccess;\r\n  const logoutSuccessAlert = !loggingOut && logoutSuccess;\r\n  const handleLogin = ({ username, password }) => {\r\n    login(username.value, password.value);\r\n  };\r\n\r\n  return (\r\n    <Body>\r\n      <section className={classes.loginCtr}>\r\n        {registerSuccess && <Alert severity=\"success\">Registration successfull! Please login below</Alert>}\r\n        {logoutSuccessAlert && <Alert severity=\"success\">Logout successful! Visit again!</Alert>}\r\n        {showError && <Alert severity=\"error\">Invalid credientials. Please try again!</Alert>}\r\n        <br />\r\n        <Paper elevation={2}>\r\n          <LoginForm\r\n            onSubmit={handleLogin}\r\n            isSubmitting={loggingIn} />\r\n        </Paper>\r\n      </section>\r\n    </Body>\r\n  );\r\n};\r\n\r\nLogin.propTypes = {\r\n  loggingIn: PropTypes.bool,\r\n  loginFailure: PropTypes.bool,\r\n  signingUp: PropTypes.bool,\r\n  signUpSuccess: PropTypes.bool,\r\n  loggingOut: PropTypes.bool,\r\n  logoutSuccess: PropTypes.bool\r\n};\r\n\r\nexport default Login;","import moment from 'moment';\r\n\r\nexport const formatLastVisitTS = (date) => {\r\n  return moment(date).format(\"ddd, MMM Do hA\");\r\n};","import React from 'react';\r\nimport PropTypes from \"prop-types\";\r\nimport capitalize from 'lodash/capitalize';\r\nimport { Typography } from '@material-ui/core';\r\n\r\nimport { formatLastVisitTS } from '../../utils';\r\n\r\nconst UserTip = ({ username, lastVisited }) => {\r\n  return (\r\n    <>\r\n      <Typography>\r\n        Name: {capitalize(username)}\r\n      </Typography>\r\n      <em>last online: {formatLastVisitTS(lastVisited)}</em>\r\n    </>\r\n  );\r\n}\r\n\r\nUserTip.propTypes = {\r\n  username: PropTypes.string,\r\n  lastVisited: PropTypes.string\r\n};\r\n\r\nexport default UserTip;","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport toUpper from \"lodash/toUpper\";\r\nimport { Avatar, Badge } from '@material-ui/core';\r\nimport StarIcon from '@material-ui/icons/Star';\r\nimport { green } from '@material-ui/core/colors';\r\n\r\nconst UserAvatar = ({ initial, admin, className }) => {\r\n  const avatar = (<Avatar\r\n    alt=\"\"\r\n    className={className} >\r\n    {toUpper(initial)}\r\n  </Avatar>);\r\n\r\n  return admin ? (\r\n    <Badge\r\n      overlap=\"circle\"\r\n      anchorOrigin={{\r\n        vertical: 'top',\r\n        horizontal: 'left',\r\n      }}\r\n      badgeContent={<StarIcon style={{ color: green[500] }} />}>\r\n      {avatar}\r\n    </Badge>\r\n  ) : avatar;\r\n};\r\n\r\nUserAvatar.propTypes = {\r\n  initial: PropTypes.string,\r\n  admin: PropTypes.bool,\r\n  className: PropTypes.oneOfType([PropTypes.string, PropTypes.object])\r\n};\r\n\r\n\r\nexport default UserAvatar;","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport map from \"lodash/map\";\r\nimport { deepOrange, deepPurple, pink, brown, amber, grey } from '@material-ui/core/colors';\r\nimport { makeStyles, Avatar, Tooltip } from '@material-ui/core';\r\n\r\nimport UserTip from './user-tip';\r\nimport UserAvatar from './user-avatar';\r\n\r\nconst useColors = makeStyles(() => map([deepOrange, deepPurple, pink, brown, amber], (c) => ({\r\n  color: \"white\",\r\n  backgroundColor: c[500]\r\n})));\r\n\r\nconst useStyles = makeStyles(() => ({\r\n  listCtr: {\r\n    listStyleType: \"none\",\r\n    padding: 0,\r\n    display: \"flex\"\r\n  },\r\n  avatarCtr: {\r\n    marginRight: \"-0.85em\"\r\n  },\r\n  lastAvatar: {\r\n    color: \"white\",\r\n    backgroundColor: grey[500]\r\n  },\r\n  avatar: {\r\n    height: \"3em\",\r\n    width: \"3em\",\r\n    border: \"white solid 3px\"\r\n  }\r\n}));\r\n\r\nconst ActiveUsers = ({ users, hiddenCount, handleMore }) => {\r\n  const colors = useColors();\r\n  const classes = useStyles();\r\n\r\n  return (\r\n    <ul className={classes.listCtr}>\r\n      {users.map((user, i) => {\r\n        return (\r\n          <li key={user.username} className={classes.avatarCtr}>\r\n            <Tooltip\r\n              disableTouchListener\r\n              title={<UserTip {...user} />}\r\n              arrow>\r\n              <div>\r\n                <UserAvatar\r\n                  initial={user.username[0]}\r\n                  className={`${colors[i]} ${classes.avatar}`}\r\n                  admin={user.admin} />\r\n              </div>\r\n            </Tooltip>\r\n          </li>\r\n        )\r\n      })\r\n      }\r\n      {hiddenCount ? (<li key=\"last-item\" className={classes.avatarCtr} onClick={handleMore}>\r\n        <Avatar\r\n          alt=\"\"\r\n          className={`${classes.lastAvatar} ${classes.avatar}`} >\r\n          +{hiddenCount}\r\n        </Avatar>\r\n      </li>\r\n      ) : null}\r\n    </ul>\r\n  );\r\n};\r\n\r\n\r\n\r\nActiveUsers.propTypes = {\r\n  users: PropTypes.array,\r\n  handleMore: PropTypes.func,\r\n  hiddenCount: PropTypes.number\r\n};\r\n\r\nexport default React.memo(ActiveUsers);","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport capitalize from 'lodash/capitalize';\r\nimport map from 'lodash/map';\r\nimport times from 'lodash/times';\r\nimport { makeStyles, List, ListItem, ListItemAvatar, ListItemText } from '@material-ui/core';\r\nimport { green, blue, lime, orange, red, yellow, indigo, cyan, amber } from '@material-ui/core/colors';\r\n\r\nimport { formatLastVisitTS } from '../../utils';\r\nimport UserAvatar from './user-avatar';\r\n\r\nconst allColors = [];\r\ntimes(5, () => allColors.push(\r\n  green, blue, lime, orange, red, yellow, indigo, cyan, amber\r\n));\r\n\r\nconst useColors = makeStyles(() => map(allColors, (c) => ({\r\n  color: \"white\",\r\n  backgroundColor: c[500]\r\n})));\r\n\r\nconst PopoverItem = ({ username, color, lastVisited, admin }) => (\r\n  <ListItem>\r\n    <ListItemAvatar>\r\n      <UserAvatar\r\n        initial={username[0]}\r\n        className={color}\r\n        admin={admin} />\r\n    </ListItemAvatar>\r\n    <ListItemText\r\n      primary={capitalize(username)}\r\n      secondary={<em>{`Last online: ${formatLastVisitTS(lastVisited)}`}</em>} />\r\n  </ListItem>\r\n);\r\n\r\nPopoverItem.propTypes = {\r\n  username: PropTypes.string,\r\n  lastVisited: PropTypes.string,\r\n  color: PropTypes.object,\r\n  admin: PropTypes.bool\r\n};\r\n\r\nconst PopoverContent = ({ users }) => {\r\n  const colors = useColors();\r\n  return (\r\n    <List>\r\n      {users.map((user, i) => (\r\n        <PopoverItem\r\n          key={user.username}\r\n          color={colors[i]}\r\n          {...user} />)\r\n      )}\r\n    </List>\r\n  );\r\n};\r\n\r\nPopoverContent.propTypes = {\r\n  usersMap: PropTypes.array\r\n};\r\n\r\nexport default PopoverContent;","import React, { useState } from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport get from 'lodash/get';\r\nimport { makeStyles, Modal, Paper, Typography } from '@material-ui/core';\r\n\r\nimport ActiveUsers from \"./active-users\";\r\nimport PopoverContent from \"./popover-content\";\r\nimport { Body } from \"../common\";\r\nconst MAX = 5;\r\n\r\nconst useStyles = makeStyles(() => ({\r\n  container: {\r\n    height: \"85%\",\r\n    display: \"flex\",\r\n    flexDirection: \"column\",\r\n    alignItems: \"center\"\r\n  },\r\n  title: {\r\n    display: \"flex\",\r\n    flex: 0.4,\r\n    alignItems: \"center\"\r\n  },\r\n  main: {\r\n    display: \"flex\",\r\n    flex: 0.2,\r\n    alignItems: \"center\"\r\n  },\r\n  footer: {\r\n    display: \"flex\",\r\n    flex: 0.4,\r\n    alignItems: \"flex-end\"\r\n  },\r\n  modalWindow: {\r\n    display: \"flex\",\r\n    alignItems: \"center\",\r\n    justifyContent: \"center\"\r\n  },\r\n  modalCtr: {\r\n    width: \"50%\",\r\n    overflow: \"auto\",\r\n    maxHeight: \"75%\"\r\n  }\r\n}));\r\n\r\nconst Home = ({ activeUsers, loggedInUser }) => {\r\n  const classes = useStyles();\r\n  const [showDialog, setDialog] = useState(false);\r\n\r\n  const isAdmin = get(loggedInUser, \"isAdmin\", false);\r\n  const handleClose = () => setDialog(false);\r\n  const shownUsers = activeUsers.slice(0, MAX);\r\n  const hiddenUsers = activeUsers.slice(MAX);\r\n\r\n  return (\r\n    <Body isLoggedIn={true} admin={isAdmin}>\r\n      <section className={classes.container}>\r\n        <header className={classes.title}>\r\n          <Typography variant=\"h4\">\r\n            Welcome {isAdmin ? \"Admin!\" : \"User!\"}\r\n          </Typography>\r\n        </header>\r\n        <main className={classes.main}>\r\n          <ActiveUsers\r\n            users={shownUsers}\r\n            hiddenCount={hiddenUsers.length}\r\n            max={MAX}\r\n            handleMore={() => setDialog(true)} />\r\n          <Modal\r\n            open={showDialog}\r\n            onClose={handleClose}\r\n            className={classes.modalWindow}\r\n          >\r\n            <Paper className={classes.modalCtr}>\r\n              <PopoverContent users={hiddenUsers} />\r\n            </Paper>\r\n          </Modal>\r\n        </main>\r\n        <footer className={classes.footer}>\r\n          <Typography variant=\"caption\">\r\n            Created by: Amruth Skanda, 2020\r\n        </Typography>\r\n        </footer>\r\n      </section>\r\n    </Body>\r\n  );\r\n};\r\n\r\nHome.propTypes = {\r\n  activeUsers: PropTypes.array,\r\n  loggedInUser: PropTypes.object\r\n};\r\n\r\nexport default Home;","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport capitalize from 'lodash/capitalize';\r\nimport { ListItem, ListItemAvatar, ListItemText } from '@material-ui/core';\r\nimport UserAvatar from '../home/user-avatar';\r\nimport { formatLastVisitTS } from '../../utils';\r\n\r\nconst HistoryItem = ({ color, username, createdOn, lastVisited, isAdmin }) => {\r\n  return (\r\n    <ListItem>\r\n      <ListItemAvatar>\r\n        <UserAvatar\r\n          initial={username[0]}\r\n          className={color}\r\n          admin={isAdmin} />\r\n      </ListItemAvatar>\r\n      <ListItemText\r\n        primary={capitalize(username)}\r\n        secondary={<em>{`Created on: ${formatLastVisitTS(createdOn)}`}</em>} />\r\n      <ListItemText\r\n        style={{ textAlign: \"right\" }}\r\n        primary={<em>{`Last online: ${formatLastVisitTS(lastVisited)}`}</em>} />\r\n    </ListItem>\r\n  )\r\n};\r\n\r\nHistoryItem.propTypes = {\r\n  username: PropTypes.string,\r\n  lastVisited: PropTypes.string,\r\n  color: PropTypes.string,\r\n  isAdmin: PropTypes.bool\r\n};\r\n\r\nexport default HistoryItem;","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport times from 'lodash/times';\r\nimport map from 'lodash/map';\r\nimport { makeStyles, Typography, List } from '@material-ui/core';\r\nimport { blue, lime, orange, red, yellow, indigo, cyan, amber, grey } from '@material-ui/core/colors';\r\n\r\nimport HistoryItem from './history-item';\r\nimport { Body } from '../common';\r\n\r\nconst allColors = [];\r\ntimes(5, () => allColors.push(\r\n  blue, lime, orange, red, yellow, indigo, cyan, amber\r\n));\r\n\r\nconst useColors = makeStyles(() => map(allColors, (c) => ({\r\n  color: \"white\",\r\n  backgroundColor: c[500]\r\n})));\r\n\r\nconst useStyles = makeStyles(() => ({\r\n  container: {\r\n    marginTop: \"1em\",\r\n    textAlign: \"left\"\r\n  },\r\n  title: {\r\n    padding: \"8px 16px\"\r\n  },\r\n  noData: {\r\n    color: grey[500],\r\n    padding: \"16px\"\r\n  }\r\n}));\r\n\r\nconst History = ({ users }) => {\r\n  const colors = useColors();\r\n  const classes = useStyles();\r\n\r\n  return (\r\n    <Body isLoggedIn={true}>\r\n      <section className={classes.container}>\r\n        <Typography variant=\"h4\" color=\"primary\" className={classes.title}>\r\n          User History\r\n        </Typography>\r\n        {!users.length ? (\r\n          <Typography variant=\"h5\" className={classes.noData}>No history data</Typography>\r\n        ) : <List>\r\n            {users.map((user, i) => (\r\n              <HistoryItem\r\n                key={user.username}\r\n                color={colors[i]}\r\n                {...user} />)\r\n            )}\r\n          </List>}\r\n      </section>\r\n    </Body>\r\n  );\r\n};\r\n\r\nHistory.propTypes = {\r\n  users: PropTypes.array\r\n};\r\n\r\nexport default History;","const env = process.env.NODE_ENV;\r\nconst createStore = (reducer) => {\r\n  let state;\r\n  const listeners = [];\r\n\r\n  const getState = () => {\r\n    return state;\r\n  }\r\n\r\n  const subscribe = (listener) => {\r\n    listeners.push(listener);\r\n    return listeners.filter(l => listener !== l);\r\n  }\r\n\r\n  const dispatch = (action) => {\r\n    state = reducer(state, action);\r\n    if (env !== \"production\") {\r\n      console.info(\"My Store updated: \", state);\r\n    }\r\n    listeners.forEach(listener => listener())\r\n  }\r\n\r\n  dispatch({});\r\n\r\n  return { getState, subscribe, dispatch };\r\n};\r\n\r\nconst combineReducers = (reducerMap) => (state = {}, action) => {\r\n  return Object.keys(reducerMap)\r\n    .reduce((nextState, key) => {\r\n      nextState[key] = reducerMap[key](\r\n        state[key],\r\n        action\r\n      );\r\n      return nextState;\r\n    }, {});\r\n};\r\n\r\nexport { createStore, combineReducers };","import React, { useState } from 'react';\r\nimport PropTypes from \"prop-types\";\r\nimport { Link } from \"react-router-dom\";\r\nimport TextField from '@material-ui/core/TextField';\r\nimport { makeStyles, Typography, Button, Switch, FormControlLabel, CircularProgress } from '@material-ui/core';\r\n\r\nconst useStyles = makeStyles(() => ({\r\n  registerForm: {\r\n    display: \"flex\",\r\n    flexDirection: \"column\",\r\n    alignItems: 'center',\r\n    justifyContent: \"space-around\",\r\n    height: \"26em\"\r\n  },\r\n  field: {\r\n    width: \"75%\"\r\n  }\r\n}));\r\n\r\nconst RegistrationForm = ({ isSubmitting, onSubmit }) => {\r\n  const classes = useStyles();\r\n  const [Username, setUsername] = useState(\"\");\r\n  const [password, setPassword] = useState(\"\");\r\n  const [isAdmin, setAdmin] = useState(false);\r\n  const handleSubmit = (e) => {\r\n    e.preventDefault();\r\n    onSubmit(e.target.elements);\r\n  };\r\n\r\n  return (\r\n    <form onSubmit={handleSubmit} className={classes.registerForm}>\r\n      <header>\r\n        <Typography variant=\"h5\">\r\n          Register\r\n        </Typography>\r\n      </header>\r\n      <TextField\r\n        id=\"username\"\r\n        label=\"Username\"\r\n        variant=\"outlined\"\r\n        className={classes.field}\r\n        required\r\n        value={Username}\r\n        onChange={({ target }) => setUsername(target.value)} />\r\n      <TextField\r\n        id=\"password\"\r\n        label=\"Password\"\r\n        type=\"password\"\r\n        variant=\"outlined\"\r\n        className={classes.field}\r\n        required\r\n        value={password}\r\n        onChange={({ target }) => setPassword(target.value)} />\r\n      <FormControlLabel\r\n        control={\r\n          <Switch\r\n            id=\"admin\"\r\n            size=\"medium\"\r\n            checked={isAdmin}\r\n            onChange={({ target }) => setAdmin(target.checked)}\r\n            color=\"primary\" />\r\n        }\r\n        label=\"is Admin?\" />\r\n      {isSubmitting ? <CircularProgress /> : <Button\r\n        variant=\"contained\"\r\n        type=\"submit\"\r\n        disabled={isSubmitting}\r\n        color=\"primary\">\r\n        Sign up\r\n      </Button>}\r\n      <footer>\r\n        <Typography variant=\"subtitle2\">\r\n          Already have account with us? <Link to=\"/app\">Sign in</Link>\r\n        </Typography>\r\n      </footer>\r\n    </form>\r\n  );\r\n};\r\n\r\nRegistrationForm.propTypes = {\r\n  isSubmitting: PropTypes.bool,\r\n  onSubmit: PropTypes.func.isRequired\r\n};\r\n\r\nexport default RegistrationForm;","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport Alert from '@material-ui/lab/Alert';\r\nimport { Paper, makeStyles } from '@material-ui/core';\r\n\r\nimport { Body } from \"../common\";\r\nimport RegistrationForm from './registration-form';\r\nimport { signUp } from '../../actions';\r\n\r\nconst useStyles = makeStyles(() => ({\r\n  signUpCtr: {\r\n    margin: \"10em auto\",\r\n    maxWidth: \"32em\"\r\n  }\r\n}));\r\n\r\nconst Registration = ({ signingUp, signUpFailure }) => {\r\n  const classes = useStyles();\r\n  const showError = !signingUp && signUpFailure;\r\n  const handleRegistration = ({ username, password, admin }) => {\r\n    signUp(username.value, password.value, admin.checked);\r\n  };\r\n\r\n  return (\r\n    <Body>\r\n      <section className={classes.signUpCtr}>\r\n        {showError && <Alert severity=\"error\">{signUpFailure}</Alert>}\r\n        <br />\r\n        <Paper elevation={2}>\r\n          <RegistrationForm\r\n            isSubmitting={signingUp}\r\n            onSubmit={handleRegistration} />\r\n        </Paper>\r\n      </section>\r\n    </Body>\r\n  );\r\n};\r\n\r\nRegistration.propTypes = {\r\n  signingUp: PropTypes.bool,\r\n  signUpFailure: PropTypes.string\r\n};\r\n\r\nexport default Registration;","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport { makeStyles, Typography, Button } from '@material-ui/core';\r\nimport { Body } from '../common';\r\n\r\nconst useStyles = makeStyles(() => ({\r\n  container: {\r\n    margin: \"10em auto\",\r\n    maxWidth: \"32em\"\r\n  }\r\n}));\r\n\r\nconst Error = (props) => {\r\n  const classes = useStyles();\r\n\r\n  return (\r\n    <Body>\r\n      <section className={classes.container}>\r\n        <Typography variant=\"h2\" color=\"secondary\">\r\n          Sorry...\r\n        </Typography>\r\n        <br />\r\n        <Typography variant=\"h5\">\r\n          {props.message}\r\n        </Typography>\r\n        <br />\r\n        <Button href=\"/app\" size=\"large\" variant=\"outlined\" color=\"primary\">\r\n          Log in\r\n        </Button>\r\n      </section>\r\n    </Body>\r\n  );\r\n};\r\n\r\nError.propTypes = {\r\n  message: PropTypes.string\r\n};\r\n\r\nexport default Error;\r\n","import React, { useState, useEffect } from \"react\";\r\nimport myFetch from \"../utils/request\";\r\nimport { Redirect } from \"react-router-dom\";\r\n\r\nimport { store } from '../App';\r\nimport { LOGIN_SUCCESS } from '../utils/actions';\r\n\r\nconst withAuth = (SecureComponent) => (props) => {\r\n  const [isLoading, setLoading] = useState(true);\r\n  const [redirect, setRedirect] = useState(false);\r\n\r\n  useEffect(() => {\r\n    async function checkAuth() {\r\n      try {\r\n        const res = await myFetch(\"/session/checkToken\");\r\n        if (res.status === 200) {\r\n          setLoading(false);\r\n          store.dispatch({ type: LOGIN_SUCCESS, payload: res.data.data });\r\n        } else {\r\n          throw res;\r\n        }\r\n      } catch (err) {\r\n        setLoading(false);\r\n        setRedirect(true);\r\n      }\r\n    }\r\n\r\n    checkAuth();\r\n  }, []);\r\n\r\n  if (isLoading) {\r\n    return <p>Authenticating....</p>\r\n  } else if (redirect) {\r\n    return <Redirect to=\"/app/error\" />\r\n  }\r\n\r\n  return (<SecureComponent {...props} />);\r\n};\r\n\r\nexport default withAuth;\r\n","import React, { useContext, useEffect } from \"react\";\r\nimport { store, StoreContext } from \"../App\";\r\n\r\nconst withStore = (stateMapper = () => ({})) => (ContainerComponent) => {\r\n  return (props) => {\r\n    const state = useContext(StoreContext);\r\n    const pageState = stateMapper && stateMapper(state);\r\n\r\n    return (\r\n      <ContainerComponent {...pageState} {...props} dispatch={store.dispatch} />\r\n    );\r\n  };\r\n};\r\n\r\nexport default withStore;","import React, { useEffect } from \"react\";\r\nimport PropTypes from \"prop-types\";\r\n\r\nimport { Login } from \"../components\";\r\nimport { withStore } from \"../hocs\";\r\nimport { useHistory } from \"react-router-dom\";\r\n\r\nconst LoginContainer = (props) => {\r\n  const history = useHistory();\r\n  const { loggingIn, loginSuccess } = props;\r\n\r\n  useEffect(() => {\r\n    if (!loggingIn && loginSuccess) {\r\n      history.push(\"/app/home\");\r\n    }\r\n  }, [loggingIn, loginSuccess]);\r\n\r\n  return <Login {...props} />;\r\n};\r\n\r\nLoginContainer.propTypes = {\r\n  loggingIn: PropTypes.bool,\r\n  loginSuccess: PropTypes.bool,\r\n  loginFailure: PropTypes.bool,\r\n  signingUp: PropTypes.bool,\r\n  signUpSuccess: PropTypes.bool,\r\n  loggingOut: PropTypes.bool,\r\n  logoutSuccess: PropTypes.bool\r\n};\r\n\r\nconst stateMapper = (state) => ({\r\n  loggingIn: state.login.loading,\r\n  loginSuccess: state.login.payload,\r\n  loginFailure: state.login.error,\r\n  signingUp: state.signUp.loading,\r\n  signUpSuccess: state.signUp.payload,\r\n  loggingOut: state.logout.loading,\r\n  logoutSuccess: state.logout.payload,\r\n});\r\n\r\nexport default withStore(stateMapper)(LoginContainer);\r\n","import React, { useEffect } from \"react\";\r\nimport PropTypes from \"prop-types\";\r\n\r\nimport { Home } from \"../components\";\r\n\r\nimport { withStore, withAuth } from \"../hocs\";\r\nimport { getActiveUsers } from \"../actions\";\r\nimport Socket from \"../utils/socket\";\r\n\r\nconst HomeContainer = (props) => {\r\n  useEffect(() => {\r\n    if (!Socket.getSocket())\r\n      Socket.create();\r\n    getActiveUsers();\r\n  }, []);\r\n\r\n  return <Home {...props} />;\r\n};\r\n\r\nHomeContainer.propTypes = {\r\n  activeUsers: PropTypes.object,\r\n  loggedInUser: PropTypes.object\r\n};\r\n\r\nconst stateMapper = (state) => ({\r\n  activeUsers: Object.values(state.activeUsers.payload),\r\n  loggedInUser: state.login.payload && state.login.payload.user\r\n});\r\n\r\nconst HomeWithAuth = withAuth(HomeContainer);\r\nexport default withStore(stateMapper)(HomeWithAuth);","import * as ACTIONS from \"../utils/actions\";\r\nimport { store } from \"../App\";\r\nimport Socket from \"../utils/socket\";\r\n\r\nexport const getActiveUsers = () => {\r\n  const socket = Socket.getSocket();\r\n  if (socket) {\r\n    store.dispatch({ type: ACTIONS.FETCH_ACTIVE_USERS_PENDING });\r\n\r\n    socket.on(\"activeUsers\", (activeUsers) => {\r\n      store.dispatch({ type: ACTIONS.FETCH_ACTIVE_USERS_SUCCESS, payload: activeUsers });\r\n    });\r\n  } else {\r\n    store.dispatch({ type: ACTIONS.FETCH_ACTIVE_USERS_FAILURE, payload: {}, error: \"Something went wrong!\" });\r\n  }\r\n};\r\n","import React, { useEffect } from \"react\";\r\nimport PropTypes from \"prop-types\";\r\n\r\nimport { History } from \"../components\";\r\n\r\nimport { withStore, withAuth } from \"../hocs\";\r\nimport { getUserHistory } from \"../actions\";\r\n\r\nconst HistoryContainer = (props) => {\r\n  useEffect(() => {\r\n    getUserHistory();\r\n  }, []);\r\n\r\n  return <History {...props} />;\r\n};\r\n\r\nHistoryContainer.propTypes = {\r\n  users: PropTypes.array\r\n};\r\n\r\nconst stateMapper = (state) => ({\r\n  users: state.userHistory.payload || []\r\n});\r\n\r\nconst HistoryWithAuth = withAuth(HistoryContainer);\r\nexport default withStore(stateMapper)(HistoryWithAuth);","import React, { useEffect } from \"react\";\r\nimport PropTypes from \"prop-types\";\r\nimport { useHistory } from \"react-router-dom\";\r\n\r\nimport { Registration } from \"../components\";\r\nimport { withStore } from \"../hocs\";\r\nimport { SIGN_UP_RESET } from \"../utils/actions\";\r\n\r\nconst RegistrationContainer = (props) => {\r\n  const history = useHistory();\r\n  const { signingUp, signUpSuccess, dispatch } = props;\r\n\r\n  useEffect(() => {\r\n    if (!signingUp && signUpSuccess) {\r\n      history.push(\"/app\");\r\n      setTimeout(() => dispatch({ type: SIGN_UP_RESET }), 3000);\r\n    }\r\n  }, [signingUp, signUpSuccess]);\r\n\r\n  return <Registration {...props} />\r\n};\r\n\r\nRegistrationContainer.propTypes = {\r\n  signingUp: PropTypes.bool.isRequired,\r\n  signUpSuccess: PropTypes.bool,\r\n  signUpFailure: PropTypes.bool,\r\n  dispatch: PropTypes.func.isRequired\r\n};\r\n\r\nconst stateMapper = (state) => ({\r\n  signingUp: state.signUp.loading,\r\n  signUpSuccess: state.signUp.payload,\r\n  signUpFailure: state.signUp.error,\r\n});\r\n\r\nexport default withStore(stateMapper)(RegistrationContainer);","import React from \"react\";\r\n// import PropTypes from \"prop-types\";\r\n\r\nimport { Error } from \"../components\";\r\n// import { withStore } from \"../hocs\";\r\n\r\nconst ErrorContainer = (props) => {\r\n  let msg = \"Invalid session. Please login again!\";\r\n  return <Error message={msg} {...props} />;\r\n};\r\n\r\nexport default ErrorContainer;","import * as ACTIONS from \"../utils/actions\";\r\nconst initalState = { loading: false, payload: null, error: false };\r\n\r\nexport const login = (state = initalState, action) => {\r\n  switch (action.type) {\r\n    case ACTIONS.LOGIN_PENDING:\r\n      return { ...state, loading: true, error: false };\r\n    case ACTIONS.LOGIN_SUCCESS:\r\n      return { ...state, loading: false, payload: action.payload, error: false };\r\n    case ACTIONS.LOGIN_FAILURE:\r\n      return { ...state, loading: false, error: true };\r\n    case ACTIONS.SIGN_UP_PENDING:\r\n    case ACTIONS.LOGIN_RESET:\r\n      return { ...initalState };\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n\r\nexport const signUp = (state = initalState, action) => {\r\n  switch (action.type) {\r\n    case ACTIONS.SIGN_UP_PENDING:\r\n      return { ...state, loading: true, error: false };\r\n    case ACTIONS.SIGN_UP_SUCCESS:\r\n      return { ...state, loading: false, payload: action.payload, error: false };\r\n    case ACTIONS.SIGN_UP_FAILURE:\r\n      return { ...state, loading: false, error: action.payload };\r\n    case ACTIONS.LOGIN_PENDING:\r\n    case ACTIONS.SIGN_UP_RESET:\r\n      return { ...initalState };\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n\r\nexport const logout = (state = initalState, action) => {\r\n  switch (action.type) {\r\n    case ACTIONS.LOGOUT_PENDING:\r\n      return { ...state, loading: true, error: false };\r\n    case ACTIONS.LOGOUT_SUCCESS:\r\n      return { ...state, loading: false, payload: true, error: false };\r\n    case ACTIONS.LOGOUT_FAILURE:\r\n      return { ...state, loading: false, error: true };\r\n    case ACTIONS.LOGIN_PENDING:\r\n    case ACTIONS.LOGOUT_RESET:\r\n      return { ...initalState };\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n","import * as ACTIONS from \"../utils/actions\";\r\nconst dummyUsers = {\r\n  dummy1: { username: \"sDummy1\", lastVisited: \"2020-01-02T05:23:59+00:00\", admin: true },\r\n  dummy2: { username: \"mDummy2\", lastVisited: \"2020-03-08T02:23:59+00:00\", admin: false },\r\n  dummy3: { username: \"hDummy3\", lastVisited: \"2020-01-14T04:23:59+00:00\", admin: false },\r\n  dummy4: { username: \"dDummy4\", lastVisited: \"2020-04-12T12:23:59+00:00\", admin: true },\r\n  dummy5: { username: \"sDummy5\", lastVisited: \"2020-01-11T02:23:59+00:00\", admin: false }\r\n};\r\nconst initalState = { loading: false, payload: dummyUsers, error: false };\r\nconst initalHistoryState = { loading: false, payload: Object.values(dummyUsers), error: false };\r\n\r\nexport const activeUsers = (state = initalState, action) => {\r\n  switch (action.type) {\r\n    case ACTIONS.FETCH_ACTIVE_USERS_PENDING:\r\n      return { ...state, loading: true, error: false };\r\n    case ACTIONS.FETCH_ACTIVE_USERS_SUCCESS:\r\n      return { ...state, loading: false, payload: { ...action.payload, ...dummyUsers } }\r\n    case ACTIONS.FETCH_ACTIVE_USERS_FAILURE:\r\n      return { ...state, loading: false, error: true }\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n\r\nexport const userHistory = (state = initalHistoryState, action) => {\r\n  switch (action.type) {\r\n    case ACTIONS.FETCH_USER_HISTORY_PENDING:\r\n      return { ...state, loading: true, error: false };\r\n    case ACTIONS.FETCH_USER_HISTORY_SUCCESS:\r\n      return { ...state, loading: false, payload: [...action.payload, ...Object.values(dummyUsers)] }\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n","import React from \"react\";\nimport { BrowserRouter as Router, Route, Switch, Redirect } from 'react-router-dom';\nimport { Login, Home, Registration, Error, History } from \"./containers\";\nimport { createStore } from \"./utils/store\";\nimport { NO_MATCH_MSG } from \"./utils/constants\";\nimport rootReducer from \"./store\";\n\nconst store = createStore(rootReducer);\nconst StoreContext = React.createContext();\n\nconst App = () => (\n  <StoreContext.Provider value={store.getState()}>\n    <Router>\n      <Switch>\n        <Route path=\"/\" exact render={() => <Redirect to=\"/app\" />} />\n        <Route path=\"/app\" exact component={Login} />\n        <Route path=\"/app/register\" component={Registration} />\n        <Route path=\"/app/home\" component={Home} />\n        <Route path=\"/app/history\" component={History} />\n        <Route path=\"/app/error\" component={Error} />\n        <Route render={() => <Error message={NO_MATCH_MSG} />} />\n      </Switch>\n    </Router>\n  </StoreContext.Provider >\n);\n\nexport { store, StoreContext };\nexport default App;\n","import { combineReducers } from \"../utils/store\";\r\nimport { login, signUp, logout } from \"./auth\";\r\nimport { activeUsers, userHistory } from \"./users\";\r\n\r\nconst rootReducer = combineReducers({\r\n  login, signUp, logout,\r\n  activeUsers,\r\n  userHistory\r\n});\r\n\r\nexport default rootReducer;","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './styles/index.css';\nimport App, { store } from './App';\n\nexport const render = () => ReactDOM.render(<App />, document.getElementById('root'));\nstore.subscribe(render);\nrender();\n"],"sourceRoot":""}